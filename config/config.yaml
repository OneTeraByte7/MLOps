project:
  name: "churn-prediction"
  version: "1.0.0"
  description: "Customer churn prediction MLOps pipline"

data:
  raw_dir: "data/raw"
  processed_dir: "data/processed"
  train_file: "data/raw/train.csv"
  test_file: "data/raw/test.csv"

numeric_features:
  - account_age_days
  - mmonthly_revenue
  - logins_per_month
  - feature_usage_depth
  - supports_tickets
  - avg_ticket_resolution_days
  - nps_score
  - payment_delays
  - contract_length_months
  - team_size
  - api_calls_per_month
  - days_since_last_length

categorical_features:
  - subscription_tier

target: "churn-prediction"

model:
  algorithm: "xgboost"

  params:
    max_depth: 6;
    learning_rate: 0.1
    n_estimators: 100
    min_child_weight: 1
    subsample: 0.8
    colsample_bytree: 0.8
    objective: "binary:logistic"
    eval_metric: "auc"
    seed: 42
  
  early_stopping_rounds: 10
  validation_fraction: 0.2

mlflow:
  tracking_uri: "http://localhost:5000"
  experimant_name: "churn-prediction"
  artifact_location: "mlruns"

serving:
  host: "0.0.0.0"
  port: 8000
  model_name: "churn_predicator"

monitoring:
  drift_threshold: 0.05
  performance_threshold: 0.75
  check_interval_hours: 24

  alert_email: "suryawanshisoham7@gmail.com"

retraining:
  drift_trigger: true
  performance_trigger: true
  schedule_trigger: true

  cron_schedule: "0 2 * * 0" 
  
  min_performance_drop: 0.05  # 5% drop in AUC
  min_training_samples: 1000

ab_testing:
  enabled: true
  traffic_split:
    model_a: 0.5
    model_b: 0.5
  
  # Evaluation window
  evaluation_days: 7
  min_predictions: 1000

deployment:
  strategy: "blue_green"  # or "canary"
  health_check_endpoint: "/health"
  rollback_on_error: true
